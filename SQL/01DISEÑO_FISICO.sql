DROP TABLE CATEGORIAS CASCADE CONSTRAINT;
DROP TABLE PREGUNTAS CASCADE CONSTRAINT;
DROP TABLE RESPUESTAS CASCADE CONSTRAINT;
/*-----------------------------------------------------------------------*/
--CATEGORIA
CREATE TABLE CATEGORIAS
(
	ID_CAT          INTEGER NOT NULL,
    NOMBRE          VARCHAR2 (25) NOT NULL
);
ALTER TABLE CATEGORIAS ADD CONSTRAINT CATEGORIAS_PK PRIMARY KEY (ID_CAT);

INSERT INTO CATEGORIAS(ID_CAT, NOMBRE) VALUES(1,'RIESGOS');
INSERT INTO CATEGORIAS(ID_CAT, NOMBRE) VALUES(2,'CONTRATOS');
INSERT INTO CATEGORIAS(ID_CAT, NOMBRE) VALUES(3,'CURRICULUMS');

COMMIT;
/*-----------------------------------------------------------------------*/
--PREGUNTA
CREATE TABLE PREGUNTAS
(
    ID_PRE           INTEGER NOT NULL,
    TEXTO            VARCHAR2 (250) NOT NULL,
    CATEGORIAS_ID_CAT INTEGER NOT NULL
);
ALTER TABLE PREGUNTAS ADD CONSTRAINT PREGUNTAS_PK PRIMARY KEY (ID_PRE);
ALTER TABLE PREGUNTAS ADD CONSTRAINT PREGUNTAS_CATEGORIAS_FK
	FOREIGN KEY (CATEGORIAS_ID_CAT) REFERENCES CATEGORIAS (ID_CAT)
		ON DELETE SET NULL;

INSERT INTO PREGUNTAS(ID_PRE, TEXTO, CATEGORIAS_ID_CAT) VALUES(1,
	'﻿El plan de prevención es OBLIGATORIO para todas las empresas.¿Cuales son sus INSTRUMENTOS?',1);
INSERT INTO PREGUNTAS(ID_PRE, TEXTO, CATEGORIAS_ID_CAT) VALUES(2,
	'Indica cuales de los siguientes principios son de acción preventiva:',1);
INSERT INTO PREGUNTAS(ID_PRE, TEXTO, CATEGORIAS_ID_CAT) VALUES(3,
	'Son representantes de los trabajadores especializados en materia de prevención:',2);
INSERT INTO PREGUNTAS(ID_PRE, TEXTO, CATEGORIAS_ID_CAT) VALUES(4,
	'Indica que no se hace la evaluación de riesgos:',2);
INSERT INTO PREGUNTAS(ID_PRE, TEXTO, CATEGORIAS_ID_CAT) VALUES(5,
	'La planificación de la acción preventiva incluye, entre otros contenidos:',3);

COMMIT;
/*-----------------------------------------------------------------------*/
--RESPUESTA
CREATE TABLE RESPUESTAS
(
    ID_RES          INTEGER NOT NULL,
    TEXTO           VARCHAR2 (250) NOT NULL,
	CORRECTA		INTEGER NOT NULL,
    PREGUNTAS_ID_PRE INTEGER NOT NULL
);
ALTER TABLE RESPUESTAS ADD CONSTRAINT RESPUESTAS_PK PRIMARY KEY (ID_RES);
ALTER TABLE RESPUESTAS ADD CONSTRAINT RESPUESTAS_PREGUNTAS_FK
	FOREIGN KEY (PREGUNTAS_ID_PRE) REFERENCES PREGUNTAS (ID_PRE)
		ON DELETE CASCADE;

INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(1,'La planificación de la acción preventiva.',1,1);
INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(2,'El comité de empresa.',0,1);
INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(3,'La identificación de los riesgos.',0,1);
INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(4,'Todas son verdaderas.',0,1);

INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(5,'Elaborar un plan de prevención.',0,2);
INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(6,'Evaluar los riesgos que no se pueden evitar.',1,2);
INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(7,'Sustituir lo peligroso por lo que entrañe menos peligro.',0,2);
INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(8,'Realizar reconocimientos de la salud del trabajador.',0,2);

INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(9,'Los delegados de personal.',0,3);
INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(10,'El comité de empresa.',0,3);
INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(11,'Los delegados de prevención.',1,3);
INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(12,'El comité de seguridad y salud',0,3);

INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(13,'Planificar medidas preventivas.',1,4);
INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(14,'Identificar los riegos.',0,4);
INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(15,'Valorar los riesgos.',0,4);
INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(16,'Estimar los riesgos.',0,4);

INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(17,'La vigilancia periódica del estado de salud de los trabajadores.',1,5);
INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(18,'La estimación de los riesgos.',0,5);
INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(19,'Las medidas de prevención y protección a adoptar.',0,5);
INSERT INTO RESPUESTAS(ID_RES, TEXTO, CORRECTA, PREGUNTAS_ID_PRE) VALUES(20,'La valoración de los riesgos.',0,5);

COMMIT;